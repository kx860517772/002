<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>图片</title>
<style type="text/css">
*{margin:0;padding:0;}
.slideshow {
  position: absolute;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}
.slideshow-image {
  position: absolute;
  width: 100%;
  height: 100%;
  background: no-repeat 50% 50%;
  background-size: cover;
}
</style>
</head>
<body>

<div class="slideshow">
    <div class="slideshow-image" id="show" style="background-image: url('img/2.jpg')"></div>
    <div class="slideshow-image" id="hide" style="background-image: url('img/1.jpg')"></div>
</div>
<script>
	window.onload = function(){
    const hide_img = document.getElementById("hide")
    const show_img = document.getElementById("show")
    let hide_img_no = 2;
    let show_img_no = 3;
    const speed_hide = -1;
    const speed_show = 1;
    let alpha_hide = 100;
    let alpha_show = 0;
    startrun();
    function startrun(){
      setTimeout(function(){
        let timer = setInterval(function(){
          if (alpha_hide==0){
            clearInterval(timer);
            alpha_hide = 100;
            alpha_show = 0;
            hide_img.style.filter = 'alpha(opacity='+alpha_hide+')';
            hide_img.style.opacity = alpha_hide/100;
            hide_img.style = "background-image: url('img/" + hide_img_no.toString() + ".jpg')"
            show_img.style.filter = 'alpha(opacity='+alpha_show+')';
            show_img.style.opacity = alpha_show/100;
            show_img.style = "background-image: url('img/" + show_img_no.toString() + ".jpg')"
            hide_img_no += 1;
            show_img_no += 1;
          } else {
            alpha_hide = alpha_hide + speed_hide;
            alpha_show = alpha_show + speed_show;
            hide_img.style.filter = 'alpha(opacity='+alpha_hide+')';
            hide_img.style.opacity = alpha_hide/100;
            show_img.style.filter = 'alpha(opacity='+alpha_show+')';
            show_img.style.opacity = alpha_show/100;
          }
        },30)
      },4000)
    }
    const timer = setInterval(function(){
      startrun();
    },7000)
	}
</script>
</body>
</html>